<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pendidikan Pancasila_Baliku</title>
	<link rel="icon" type="image/x-icon" href="https://lh3.googleusercontent.com/d/19TNRds6ofL8omolE0436xCM_kjSw7MwN">
    <style>
        /* --- GAYA UMUM & RESET --- */
        * { box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0; padding: 0;
            background-color: #e0f7fa;
            background-image: url('bg_utama.jpg'); 
            background-size: cover;
            background-position: center;
            /* Menggunakan dvh agar pas di layar HP modern, fallback ke vh */
            height: 100vh;
            height: 100dvh; 
            width: 100vw;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- CONTAINER UTAMA --- */
        #app-container {
            width: 95%; max-width: 1000px;
            /* Tinggi fleksibel namun tetap menyisakan ruang tepi */
            height: 95vh; 
            height: 95dvh;
            background: rgba(255, 255, 255, 0.96);
            border: 4px solid #00acc1;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
            display: flex; flex-direction: column;
        }

        /* --- SLIDE SYSTEM --- */
        .slide {
            display: none;
            width: 100%; height: 100%;
            padding: 15px;
            flex-direction: column;
            align-items: center; 
            text-align: center;
            animation: fadeIn 0.4s ease-in;
            /* Aktifkan scroll vertikal jika konten mentok */
            overflow-y: auto; 
            overflow-x: hidden;
        }
        
        .slide.active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        /* --- TYPOGRAPHY (DIPERBAIKI: Tidak terlalu kecil) --- */
        h1 { color: #d84315; margin: 5px 0; font-size: clamp(24px, 4vw, 36px); line-height: 1.2; }
        h2 { color: #00838f; margin: 0 0 10px 0; font-size: clamp(18px, 3vw, 24px); }
        p, li { font-size: 16px; color: #333; margin: 5px 0; line-height: 1.5; }
        
        /* Khusus layar kecil, font paragraf sedikit mengecil tapi tetap terbaca */
        @media (max-width: 480px) {
            p, li { font-size: 14px; }
            h1 { font-size: 22px; }
            h2 { font-size: 18px; }
        }

        /* Footer Tombol */
        .slide-footer { 
            margin-top: auto; 
            padding-top: 10px; 
            padding-bottom: 5px; 
            width: 100%; 
            display: flex; 
            justify-content: center; 
            gap: 10px; 
            flex-wrap: wrap;
            flex-shrink: 0; /* Agar footer tidak gepeng */
        }

        /* --- TOMBOL --- */
        .btn-nav {
            background: #ff9800; color: white; border: none;
            padding: 10px 20px; font-size: 16px;
            border-radius: 25px; cursor: pointer; 
            font-weight: bold; box-shadow: 0 3px #e65100; transition: 0.2s;
            white-space: nowrap;
        }
        .btn-nav:hover { transform: translateY(-2px); }
        .btn-nav:active { transform: translateY(1px); }
        .btn-back { background: #546e7a; box-shadow: 0 3px #37474f; }
        
        #input-nama {
            padding: 10px; font-size: 16px; border-radius: 10px;
            border: 2px solid #00acc1; margin: 10px 0; width: 80%; max-width: 300px;
            text-align: center;
        }

        /* --- MAP CONTAINER --- */
        .map-container {
            width: 100%; 
            flex: 1; /* Isi ruang kosong */
            min-height: 150px; 
            border: 2px dashed #bbb; margin: 5px auto;
            display: flex; justify-content: center; align-items: center;
            background: #fff; border-radius: 10px;
            position: relative;
        }
        .map-img { 
            width: 100%; height: 100%; 
            object-fit: contain; 
            max-height: 50vh; 
        }

        /* --- EXPLORER (SLIDE 3) --- */
        .explorer-layout {
            display: flex; width: 100%; 
            flex: 1; 
            gap: 10px; text-align: left;
            min-height: 0;
            overflow: hidden; /* Container utama tidak scroll, anaknya yang scroll */
        }
        .explorer-menu {
            width: 30%; display: flex; flex-direction: column; gap: 5px;
            overflow-y: auto; padding-right: 5px; height: 100%;
        }
        .explorer-content {
            width: 70%; border: 2px solid #00acc1; border-radius: 10px;
            padding: 10px; background: #fff;
            display: flex; flex-direction: column; align-items: center; 
            overflow-y: auto; height: 100%;
        }
        .btn-region {
            background: #4dd0e1; border: none; padding: 10px; border-radius: 5px;
            cursor: pointer; text-align: left; font-size: 14px;
            transition: 0.2s; color: #004d40; font-weight: bold;
            width: 100%;
        }
        .btn-region:hover, .btn-region.active-btn { background: #0097a7; color: white; }
        
        .info-panel {
            display: flex; width: 100%; align-items: center; 
            flex-direction: row; justify-content: space-around; 
            margin-top: 10px;
        }

        /* --- GAME MEMORY (DIPERBAIKI) --- */
        .game-board {
            display: grid; 
            gap: 5px;
            margin: 5px auto; 
            width: 100%; 
            max-width: 800px;
            flex: 1; 
            align-content: center; 
            grid-template-columns: repeat(6, 1fr); 
            min-height: 0; 
            overflow-y: auto;
            padding: 2px;
        }

        .card {
            background-color: #fff; border: 2px solid #00838f; aspect-ratio: 1;
            border-radius: 8px; display: flex; justify-content: center; align-items: center;
            cursor: pointer; position: relative; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            /* PERBAIKAN: Hapus transisi transform agar tidak pusing */
            transition: background-color 0.2s;
        }
        
        /* Font kartu diperbesar sedikit agar terbaca */
        .card-content { 
            font-size: clamp(10px, 2.5vmin, 14px); 
            font-weight: bold; text-align: center; display: none; padding: 2px; line-height: 1.1; 
            word-break: break-word;
        }
        
        /* PERBAIKAN: Hapus rotateY(180deg) penyebab tulisan terbalik */
        .card.flipped { background-color: #ffe0b2; cursor: default; }
        .card.matched { background-color: #c8e6c9; border-color: #2e7d32; opacity: 0.8; }
        
        .card.flipped .card-content, .card.matched .card-content { display: block; }
        .card::before { content: "?"; font-size: 24px; color: #00acc1; position: absolute; }
        .card.flipped::before, .card.matched::before { display: none; }

        /* --- EVALUASI QUIZ --- */
        .quiz-container { 
            width: 100%; max-width: 600px; 
            background: #fff; padding: 15px; border-radius: 15px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1); 
            display: flex; flex-direction: column;
            flex: 1; 
            overflow-y: auto;
        }
        .question-text { font-size: 18px; font-weight: bold; margin: 10px 0; color: #d84315; flex-grow: 1; display:flex; align-items:center; justify-content:center; text-align: center;}
        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: auto;}
        .btn-option {
            background: #e0f7fa; border: 2px solid #00acc1; padding: 12px;
            border-radius: 10px; cursor: pointer; font-size: 16px;
            transition: 0.2s; min-height: 50px; display: flex; align-items: center; justify-content: center;
        }
        .btn-option:hover { background: #b2ebf2; }
        .btn-option.correct { background: #a5d6a7; border-color: #2e7d32; }
        .btn-option.wrong { background: #ef9a9a; border-color: #c62828; }

        /* --- SERTIFIKAT --- */
        .certificate {
            width: 95%; max-width: 600px; padding: 20px;
            background: #fff8e1; border: 6px double #d84315;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            margin: 10px auto; 
            flex-shrink: 0;
        }
        .cert-title { font-family: 'Georgia', serif; font-size: 24px; color: #d84315; border-bottom: 2px solid #d84315; display: inline-block; margin-bottom: 10px;}
        .cert-name { font-size: 28px; font-weight: bold; color: #000; margin: 10px 0; text-transform: uppercase; word-wrap: break-word;}
        .cert-score { font-size: 40px; font-weight: bold; color: #00838f; margin: 5px 0; }
        .cert-msg { font-style: italic; color: #555; font-size: 16px;}

        /* --- KONTROL TAMBAHAN --- */
        #music-control, #dev-btn {
            position: absolute; top: 10px; 
            background: #fff; border-radius: 50%; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; font-size: 20px; z-index: 100; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        #music-control { right: 10px; }
        #dev-btn { left: 10px; }

        /* --- RESPONSIVE LOGIC --- */

        /* 1. HP Portrait (Layar Sempit) */
        @media (max-width: 600px) {
            .explorer-layout { flex-direction: column-reverse; }
            .explorer-menu { width: 100%; height: 40%; display: grid; grid-template-columns: 1fr 1fr; gap: 5px; min-height: 100px;}
            .explorer-content { width: 100%; height: 60%; }
            .info-panel { flex-direction: row; } 
            
            /* Gunakan 4 kolom agar tidak terlalu sempit */
            .game-board { grid-template-columns: repeat(4, 1fr); gap: 4px; align-content: start; } 
            .options-grid { grid-template-columns: 1fr; } 
            .btn-option { padding: 10px; font-size: 14px; }
        }

        /* 2. HP Landscape (Layar Pendek) */
        @media (max-height: 500px) and (orientation: landscape) {
            h1 { font-size: 20px; display: inline-block; margin-right: 10px; }
            h2 { font-size: 16px; display: inline-block; }
            
            #app-container { height: 98dvh; padding: 5px; }
            .slide { padding: 5px; }

            /* Map Slide Landscape */
            .map-container { flex: 1; height: auto; min-height: 0; margin: 2px auto;}
            .map-img { max-height: 100%; width: auto; }

            /* Explorer Landscape: Layout Kiri-Kanan */
            .explorer-layout { flex-direction: row; height: 65vh; }
            .explorer-menu { width: 30%; height: 100%; display: flex; flex-direction: column; }
            .explorer-content { width: 70%; height: 100%; }

            /* Game Landscape: Perbanyak kolom agar muat vertikal */
            .game-board { 
                grid-template-columns: repeat(9, 1fr); 
                max-width: 95%;
                gap: 3px;
                align-content: center;
            }
            .card { border-width: 1px; border-radius: 4px; }
            .card-content { font-size: 10px; } /* Paksa font kecil di landscape pendek */
            
            /* Quiz Landscape */
            .quiz-container { padding: 5px; flex-direction: row; gap: 10px; align-items: center;}
            .question-text { font-size: 14px; width: 40%; text-align: left; margin: 0;}
            .options-grid { width: 60%; grid-template-columns: 1fr 1fr; gap: 5px; }
            .btn-option { padding: 5px; font-size: 12px; min-height: 30px; }
            
            #slide-1 img { width: 50px; }
            .slide-footer { padding: 2px; }
        }

    </style>
</head>
<body>

<audio id="bg-music" loop>
    <source src="musik1.mp3" type="audio/mpeg">
</audio>

<div id="app-container">
    
    <div id="music-control" onclick="toggleMusic()">üîá</div>
    <div id="dev-btn" onclick="pindahSlide('dev')" title="Profil">üë®‚Äçüíª</div>

    <div id="slide-1" class="slide active">
        <div style="flex: 1; display:flex; flex-direction:column; justify-content:center; align-items:center; width:100%;">
            <img src="ikon_garuda.png" alt="Garuda" width="100" style="max-height: 20vh; object-fit: contain; margin-bottom: 10px;">
            <h1>Pendidikan Pancasila</h1>
            <h2>Mengenal Wilayahku: Bali & NKRI</h2>
            
            <div style="background: white; padding: 15px; border-radius: 15px; margin-top:10px; width: 90%; max-width:400px; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
                <p style="margin-bottom: 5px;">Tulis namamu dulu ya!<br>Ada sertifikat belajar untuk kamu.</p>
                <input type="text" id="input-nama" placeholder="Ketik namamu di sini..." autocomplete="off">
                <br>
                <button class="btn-nav" onclick="mulaiAplikasi()">Masuk Kelas ‚ñ∂</button>
            </div>
        </div>
    </div>

    <div id="slide-2" class="slide">
        <h2>Posisi Bali dalam NKRI</h2>
        <div class="map-container">
            <img src="peta_indonesia.png" alt="Peta Indonesia" class="map-img">
        </div>
        <p>Bali terletak di antara Pulau Jawa dan Lombok.</p>
        
        <div class="slide-footer">
            <button class="btn-nav" onclick="pindahSlide(3)">Jelajah Bali ‚ñ∂</button>
        </div>
    </div>

    <div id="slide-3" class="slide">
        <h2>Peta Wilayah Provinsi Bali</h2>
        <div class="explorer-layout">
            <div class="explorer-menu">
                <button class="btn-region" onclick="tampilInfo('Denpasar', this)">Kota Denpasar</button>
                <button class="btn-region" onclick="tampilInfo('Badung', this)">Kab. Badung</button>
                <button class="btn-region" onclick="tampilInfo('Gianyar', this)">Kab. Gianyar</button>
                <button class="btn-region" onclick="tampilInfo('Tabanan', this)">Kab. Tabanan</button>
                <button class="btn-region" onclick="tampilInfo('Jembrana', this)">Kab. Jembrana</button>
                <button class="btn-region" onclick="tampilInfo('Buleleng', this)">Kab. Buleleng</button>
                <button class="btn-region" onclick="tampilInfo('Bangli', this)">Kab. Bangli</button>
                <button class="btn-region" onclick="tampilInfo('Klungkung', this)">Kab. Klungkung</button>
                <button class="btn-region" onclick="tampilInfo('Karangasem', this)">Kab. Karangasem</button>
            </div>

            <div class="explorer-content">
                <div style="flex:1; display:flex; align-items:center; justify-content:center; width:100%; min-height:0;">
                    <img src="peta_bali.png" alt="Peta Bali" style="max-width:100%; max-height:100%; object-fit:contain;">
                </div>
                
                <hr style="width:100%; border:1px dashed #ccc; margin: 5px 0;">

                <div class="info-panel">
                    <div style="width: 80px; height: 80px; display: flex; justify-content: center; align-items: center; border: 1px solid #eee; border-radius: 10px; padding: 5px; flex-shrink:0;">
                        <img id="dynamic-img" src="" style="display:none; max-width:100%; max-height:100%;" alt="Ikon"> 
                        <span id="placeholder-text" style="color:#aaa; font-size:10px; text-align:center;">Klik tombol daerah</span>
                    </div>
                    <div style="flex:1; text-align:left; padding-left: 10px;">
                        <h3 id="info-nama" style="margin:0; color:#00838f; font-size:18px;">...</h3>
                        <p id="info-desc" style="font-size:14px; line-height:1.2; margin-top:3px;">Pilih nama daerah untuk melihat detail.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="slide-footer">
            <button class="btn-nav btn-back" onclick="pindahSlide(2)">‚óÄ Peta NKRI</button>
            <button class="btn-nav" onclick="setupGame(); pindahSlide(4)">Main Game ‚ñ∂</button>
        </div>
    </div>

    <div id="slide-4" class="slide">
        <h2>Game: Ibukotanya mana???</h2>
        <div id="game-board" class="game-board"></div>
        <p id="game-status" style="font-weight:bold; color:#d84315; min-height:20px; margin:2px; font-size:16px;"></p>
        
        <div class="slide-footer">
            <button class="btn-nav btn-back" onclick="pindahSlide(3)">‚óÄ Materi</button>
            <button id="btn-evaluasi" class="btn-nav" onclick="startQuiz(); pindahSlide(5)" style="display:none;">Lanjut Evaluasi ‚ñ∂</button>
        </div>
    </div>

    <div id="slide-5" class="slide">
        <h2>Evaluasi Pengetahuan</h2>
        <div class="quiz-container">
            <div style="display:flex; justify-content:space-between; margin-bottom:5px; border-bottom:1px solid #eee; padding-bottom:5px;">
                <span id="q-number" style="font-weight:bold; color:#00838f; font-size:14px;">Soal 1/20</span>
                <span id="q-score" style="color:#d84315; font-size:14px;">Skor: 0</span>
            </div>
            <div id="q-text" class="question-text">Loading...</div>
            <div id="options-container" class="options-grid"></div>
        </div>
    </div>

    <div id="slide-6" class="slide">
        <div style="flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; width:100%;">
            <div class="certificate">
                <div class="cert-title">SERTIFIKAT HASIL BELAJAR</div>
                <p>Diberikan kepada siswa hebat:</p>
                <div class="cert-name" id="final-name">NAMA SISWA</div>
                <p>Telah menyelesaikan materi "Mengenal Wilayahku: Bali"</p>
                <p>Dengan Nilai Akhir:</p>
                <div class="cert-score" id="final-score">0</div>
                <p class="cert-msg" id="final-msg">Semangat!</p>
            </div>
        </div>
        <div class="slide-footer">
            <button class="btn-nav" onclick="location.reload()">Ulangi dari Awal ‚Ü∫</button>
        </div>
    </div>

    <div id="slide-dev" class="slide">
        <h2>Profil Pengembang</h2>
        <div style="flex: 1; display: flex; align-items: center; justify-content: center; width:100%;">
            <img src="pengembang.png" alt="Foto Pengembang" 
                 style="max-width: 80%; max-height: 50vh; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.2); border: 2px solid #00acc1;">
        </div>
        <div style="margin-top: 10px;">
            <p>"Bukan programmer profesional, hanya guru yang lagi cosplay jadi anak IT biar murid nggak bosen".</p>
        </div>
        <div class="slide-footer">
            <button class="btn-nav btn-back" onclick="pindahSlide(1)">‚óÄ Kembali ke Menu</button>
        </div>
    </div>

</div>

<script>
    // --- VARIABEL & DATA ---
    let namaSiswa = "Siswa";
    let skorKuis = 0;
    let currentQIndex = 0;

    const dataBali = {
        'Denpasar': { ibukota: 'Denpasar', desc: 'Ibukota Provinsi. Pusat pemerintahan & ekonomi.' },
        'Badung': { ibukota: 'Mangupura', desc: 'Pusat pariwisata (Kuta, Nusa Dua) & Bandara.' },
        'Gianyar': { ibukota: 'Gianyar', desc: 'Pusat seni budaya (Ubud), Istana Tampaksiring.' },
        'Tabanan': { ibukota: 'Tabanan', desc: 'Lumbung beras Bali, Pura Tanah Lot, Bedugul.' },
        'Jembrana': { ibukota: 'Negara', desc: 'Pintu gerbang barat (Gilimanuk), Tradisi Makepung.' },
        'Buleleng': { ibukota: 'Singaraja', desc: 'Wilayah terluas di utara, Pantai Lovina.' },
        'Bangli': { ibukota: 'Bangli', desc: 'Satu-satunya yang tidak punya laut. Kintamani.' },
        'Klungkung': { ibukota: 'Semarapura', desc: 'Pusat Kerajaan Kertagosa, termasuk Nusa Penida.' },
        'Karangasem': { ibukota: 'Amlapura', desc: 'Ujung timur Bali, Pura Besakih, Gunung Agung.' }
    };

    const bgMusic = document.getElementById('bg-music');
    let isMusicPlaying = false;

    // --- FUNGSI UTAMA ---
    function mulaiAplikasi() {
        const input = document.getElementById('input-nama').value;
        if(input.trim() === "") { alert("Silakan isi namamu dulu ya!"); return; }
        namaSiswa = input;
        
        bgMusic.volume = 0.3;
        bgMusic.play().then(() => {
            isMusicPlaying = true; document.getElementById('music-control').innerText = "üîä";
        }).catch(() => console.log("Audio autoplay butuh interaksi"));

        pindahSlide(2);
    }

    function toggleMusic() {
        if (isMusicPlaying) { bgMusic.pause(); document.getElementById('music-control').innerText = "üîá"; } 
        else { bgMusic.play(); document.getElementById('music-control').innerText = "üîä"; }
        isMusicPlaying = !isMusicPlaying;
    }

    function pindahSlide(id) {
        document.querySelectorAll('.slide').forEach(el => el.classList.remove('active'));
        const target = typeof id === 'string' ? 'slide-' + id : 'slide-' + id;
        document.getElementById(target).classList.add('active');
    }

    // --- EXPLORER LOGIC ---
    function tampilInfo(key, btnElement) {
        document.querySelectorAll('.btn-region').forEach(b => b.classList.remove('active-btn'));
        btnElement.classList.add('active-btn');

        const data = dataBali[key];
        document.getElementById('info-nama').innerText = (key === 'Denpasar' ? 'Kota ' : 'Kab. ') + key;
        document.getElementById('info-desc').innerText = data.desc;

        const imgEl = document.getElementById('dynamic-img');
        const ph = document.getElementById('placeholder-text');
        
        imgEl.style.display = 'none'; ph.style.display = 'block'; ph.innerText = "Mencari gambar...";
        
        const baseName = 'ikon' + key.toLowerCase();
        
        imgEl.onload = function() { this.style.display = 'block'; ph.style.display = 'none'; };
        imgEl.onerror = function() { 
            if(this.src.endsWith('.png')) this.src = baseName + '.jpg';
            else { this.style.display='none'; ph.style.display='block'; ph.innerText = "Gagal memuat"; }
        };
        imgEl.src = baseName + '.png';
    }

    // --- GAME LOGIC (FIXED) ---
    let kartuTerbuka = [], kartuCocok = 0;
    
    function setupGame() {
        const board = document.getElementById('game-board');
        board.innerHTML = '';
        kartuTerbuka = []; kartuCocok = 0;
        document.getElementById('game-status').innerText = "";
        document.getElementById('btn-evaluasi').style.display = 'none';
        
        let deck = [];
        Object.keys(dataBali).forEach(kab => {
            deck.push({ text: (kab === 'Denpasar' ? 'Kota ' : 'Kab. ') + kab, pairId: kab });
            deck.push({ text: dataBali[kab].ibukota, pairId: kab });
        });
        deck.sort(() => 0.5 - Math.random());

        deck.forEach((item) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.dataset.pairId = item.pairId;
            card.innerHTML = `<div class="card-content">${item.text}</div>`;
            card.onclick = () => balikKartu(card);
            board.appendChild(card);
        });
    }

    function balikKartu(card) {
        if (card.classList.contains('flipped') || card.classList.contains('matched') || kartuTerbuka.length >= 2) return;
        card.classList.add('flipped');
        kartuTerbuka.push(card);
        if (kartuTerbuka.length === 2) cekKecocokan();
    }

    function cekKecocokan() {
        const [c1, c2] = kartuTerbuka;
        if (c1.dataset.pairId === c2.dataset.pairId) {
            c1.classList.add('matched'); c2.classList.add('matched');
            kartuCocok++;
            if (kartuCocok === 9) {
                document.getElementById('game-status').innerText = "HEBAT! Semua Benar!";
                document.getElementById('btn-evaluasi').style.display = 'inline-block';
            }
        } else {
            setTimeout(() => { c1.classList.remove('flipped'); c2.classList.remove('flipped'); }, 800);
        }
        kartuTerbuka = [];
    }

    // --- QUIZ LOGIC (20 Soal) ---
    const soalKuis = [
        { q: "Apa nama ibukota Provinsi Bali?", opt: ["Gianyar", "Denpasar", "Singaraja", "Badung"], ans: 1 },
        { q: "Provinsi Bali adalah bagian dari negara...", opt: ["Malaysia", "Singapura", "NKRI", "Australia"], ans: 2 },
        { q: "Kabupaten yang terkenal dengan Bandara Ngurah Rai adalah...", opt: ["Badung", "Denpasar", "Tabanan", "Gianyar"], ans: 0 },
        { q: "Siapakah pemimpin daerah tingkat Provinsi?", opt: ["Bupati", "Presiden", "Walikota", "Gubernur"], ans: 3 },
        { q: "Julukan pulau Bali adalah...", opt: ["Pulau Emas", "Pulau Dewata", "Pulau Intan", "Pulau Rempah"], ans: 1 },
        { q: "Kabupaten yang dikenal sebagai lumbung beras Bali adalah...", opt: ["Klungkung", "Bangli", "Tabanan", "Jembrana"], ans: 2 },
        { q: "Kabupaten terluas di Bali adalah...", opt: ["Buleleng", "Karangasem", "Badung", "Gianyar"], ans: 0 },
        { q: "Satu-satunya kabupaten di Bali yang tidak memiliki pantai adalah...", opt: ["Gianyar", "Bangli", "Badung", "Tabanan"], ans: 1 },
        { q: "Pelabuhan Gilimanuk terletak di kabupaten...", opt: ["Buleleng", "Jembrana", "Tabanan", "Badung"], ans: 1 },
        { q: "Ibukota Kabupaten Gianyar adalah...", opt: ["Ubud", "Sukawati", "Gianyar", "Tampaksiring"], ans: 2 },
        { q: "Gunung Agung yang megah terletak di kabupaten...", opt: ["Bangli", "Karangasem", "Buleleng", "Klungkung"], ans: 1 },
        { q: "Pulau Nusa Penida termasuk wilayah kabupaten...", opt: ["Klungkung", "Karangasem", "Badung", "Denpasar"], ans: 0 },
        { q: "Batas sebelah selatan pulau Bali adalah...", opt: ["Laut Jawa", "Selat Bali", "Samudera Hindia", "Selat Lombok"], ans: 2 },
        { q: "Ibukota Kabupaten Buleleng adalah...", opt: ["Singaraja", "Seririt", "Lovina", "Sukasada"], ans: 0 },
        { q: "Tradisi Makepung (balap kerbau) berasal dari...", opt: ["Gianyar", "Badung", "Jembrana", "Bangli"], ans: 2 },
        { q: "Berapa jumlah Kabupaten dan Kota di Provinsi Bali?", opt: ["7 Kab 1 Kota", "8 Kab 1 Kota", "9 Kab 1 Kota", "6 Kab 2 Kota"], ans: 1 },
        { q: "Ibukota Kabupaten Klungkung adalah...", opt: ["Klungkung Kota", "Semarapura", "Nusa Penida", "Kamasan"], ans: 1 },
        { q: "Pura Besakih terletak di kaki Gunung...", opt: ["Batur", "Agung", "Abang", "Batukaru"], ans: 1 },
        { q: "Amlapura adalah ibukota dari kabupaten...", opt: ["Karangasem", "Klungkung", "Bangli", "Buleleng"], ans: 0 },
        { q: "Lagu daerah Bali yang terkenal adalah...", opt: ["Gundul Pacul", "Mejangeran", "Ampar Pisang", "Manuk Dadali"], ans: 1 }
    ];

    function startQuiz() {
        skorKuis = 0; currentQIndex = 0; renderQuestion();
    }

    function renderQuestion() {
        if (currentQIndex >= soalKuis.length) { tampilkanSertifikat(); return; }
        
        const q = soalKuis[currentQIndex];
        document.getElementById('q-number').innerText = `Soal ${currentQIndex + 1}/${soalKuis.length}`;
        document.getElementById('q-score').innerText = `Skor: ${skorKuis}`;
        document.getElementById('q-text').innerText = q.q;
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        q.opt.forEach((opt, idx) => {
            const btn = document.createElement('button');
            btn.className = 'btn-option';
            btn.innerText = opt;
            btn.onclick = () => cekJawaban(idx, btn);
            container.appendChild(btn);
        });
    }

    function cekJawaban(idx, btn) {
        document.querySelectorAll('.btn-option').forEach(b => b.disabled = true);
        const correct = soalKuis[currentQIndex].ans;
        
        if (idx === correct) {
            btn.classList.add('correct'); skorKuis += 5;
        } else {
            btn.classList.add('wrong');
            document.getElementsByClassName('btn-option')[correct].classList.add('correct');
        }
        setTimeout(() => { currentQIndex++; renderQuestion(); }, 1000);
    }

    function tampilkanSertifikat() {
        pindahSlide(6);
        document.getElementById('final-name').innerText = namaSiswa;
        document.getElementById('final-score').innerText = skorKuis;
        
        const msgEl = document.getElementById('final-msg');
        if(skorKuis >= 80) msgEl.innerText = "Luar Biasa! Kamu sangat menguasai materi.";
        else if(skorKuis >= 60) msgEl.innerText = "Bagus! Terus tingkatkan belajarmu.";
        else msgEl.innerText = "Tetap Semangat! Ayo pelajari materi lagi.";
    }
</script>

</body>
</html>
